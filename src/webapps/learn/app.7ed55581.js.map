{"version":3,"sources":["webpack:///./src/home/Home.js","webpack:///./src/data/results.js","webpack:///./src/course-detail/Lesson/LessonBox.js","webpack:///./src/footer/Footer.js","webpack:///./src/course-detail/Lesson/Supplement/SupplementBox.js","webpack:///./src/home/course/CourseBox.js","webpack:///./src/discussion/QuestionDetail.js","webpack:///./src/auth.service.js","webpack:///./src/api.service.js","webpack:///./src/data/courses.js","webpack:///./src/config.js","webpack:///./src/navbar/Navbar.js","webpack:///./src/discussion/QuestionBox.js","webpack:///./src/discussion/AnswerBox.js","webpack:///./src/data/discussions.js","webpack:///./src/data/model.js","webpack:///./src/course-detail/CourseDetail.js","webpack:///./src/discussion/NewQuestion.js","webpack:///./src/index.js","webpack:///./src/App.js","webpack:///./src/course-detail/Lesson/Level/LevelBox.js","webpack:///./src/discussion/Discussion.js"],"names":["Home","props","_classCallCheck","this","_this","_possibleConstructorReturn","_Component","call","state","courses","__WEBPACK_IMPORTED_MODULE_4__data_courses__","getAll","then","setState","render","map","course","__WEBPACK_IMPORTED_MODULE_0_react___default","a","createElement","key","_id","className","__WEBPACK_IMPORTED_MODULE_3__course_CourseBox__","__WEBPACK_IMPORTED_MODULE_0_react__","Results","getLevelResults","levelId","_cache_level","hasOwnProperty","Promise","resolve","userId","__WEBPACK_IMPORTED_MODULE_0__auth_service__","getCredentials","__WEBPACK_IMPORTED_MODULE_1__api_service__","get","result","levelResults","undefined","__WEBPACK_IMPORTED_MODULE_3__model__","getRanking","seconds","getLessonResults","lessonId","_this2","__WEBPACK_IMPORTED_MODULE_2__courses__","getLevels","levels","all","level","_ref","filter","calcLessonProgress","results","Math","floor","length","getCourseResults","courseId","_this3","getLessons","lessons","lesson","calcCourseProgress","lessonsResults","sum","_iterator","_isArray","Array","isArray","_i","Symbol","iterator","_ref3","next","done","value","_ref2","LessonBox","_React$Component","supplements","progress","__WEBPACK_IMPORTED_MODULE_4__data_results__","__WEBPACK_IMPORTED_MODULE_3__data_courses__","getSupplements","isCompleted","components","concat","sort","b","order","element","__WEBPACK_IMPORTED_MODULE_5__data_model__","__WEBPACK_IMPORTED_MODULE_1__Level_LevelBox__","__WEBPACK_IMPORTED_MODULE_2__Supplement_SupplementBox__","supplement","iconClassName","name","Component","href","Footer","SupplementBox","showContent","hideContent","contentClassName","onClick","dangerouslySetInnerHTML","__html","content","CourseBox","__WEBPACK_IMPORTED_MODULE_2__data_results__","link","linkText","badge","description","__WEBPACK_IMPORTED_MODULE_1_react_router_dom__","to","QuestionDetail","updateAnswers","__WEBPACK_IMPORTED_MODULE_6__data_discussions__","getAnswers","question","answers","reply","event","preventDefault","createAnswer","replyContent","replyContentChanged","target","questionId","match","params","id","getQuestion","backLink","__WEBPACK_IMPORTED_MODULE_5__QuestionBox__","answer","__WEBPACK_IMPORTED_MODULE_4__AnswerBox__","onChange","AuthService","JSON","parse","window","localStorage","getItem","hasCredentials","deleteCredentials","removeItem","getUsername","username","getUserId","doLogin","location","ApiService","route","token","__WEBPACK_IMPORTED_MODULE_1__auth_service__","fetch","__WEBPACK_IMPORTED_MODULE_0__config__","api","headers","x-access-token","method","response","status","json","post","Content-Type","body","res","error","delete","Courses","_cache_course","__WEBPACK_IMPORTED_MODULE_2__model__","userid","_cache_lessons","_cache_levels","_this4","_cache_supplements","__webpack_exports__","RoutedNavbar","Object","Navbar","update","__WEBPACK_IMPORTED_MODULE_4__data_discussions__","getUserGold","__WEBPACK_IMPORTED_MODULE_3__auth_service__","gold","getUserPlat","platinum","setInterval","home","pathname","_ref4","_ref5","_ref6","QuestionBox","__WEBPACK_IMPORTED_MODULE_2__data_discussions__","getQuestionPlat","userGivenPlat","find","user","givePlat","createPlat","takePlat","deletePlat","platinumCount","platinumLink","title","created","toLocaleString","AnswerBox","getAnswerGold","userGivenGold","giveGold","createGold","takeGold","deleteGold","goldCount","goldLink","Discussions","getQuestions","answerId","createQuestion","URLSearchParams","set","goldId","platinumId","Course","obj","Lesson","Level","Supplement","LevelResults","Question","Date","Answer","Gold","creator","Platinum","__WEBPACK_IMPORTED_MODULE_6__Lesson_LessonBox__","discussionLink","max","NewQuestion","contentChanged","titleChanged","submit","type","placeholder","__WEBPACK_IMPORTED_MODULE_3_react_dom__","__WEBPACK_IMPORTED_MODULE_2_react___default","__WEBPACK_IMPORTED_MODULE_4__App__","document","querySelector","basename","__WEBPACK_IMPORTED_MODULE_3__navbar_Navbar__","path","component","__WEBPACK_IMPORTED_MODULE_5__home_Home__","__WEBPACK_IMPORTED_MODULE_6__course_detail_CourseDetail__","__WEBPACK_IMPORTED_MODULE_7__discussion_Discussion__","__WEBPACK_IMPORTED_MODULE_8__discussion_QuestionDetail__","__WEBPACK_IMPORTED_MODULE_9__discussion_NewQuestion__","__WEBPACK_IMPORTED_MODULE_4__footer_Footer__","App","__WEBPACK_IMPORTED_MODULE_2__auth_service__","LevelBox","ranking","__WEBPACK_IMPORTED_MODULE_1__data_results__","reject","renderSeconds","m","s","toString","padStart","hasResults","_ref7","Discussion","questions","__WEBPACK_IMPORTED_MODULE_3__data_discussions__","newLink"],"mappings":"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","file":"app.7ed55581.js","sourcesContent":["import React, { Component } from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport './home.css'\r\nimport CourseBox from './course/CourseBox'\r\nimport Courses from '../data/courses'\r\n\r\nexport default class Home extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      courses: []\r\n    };\r\n\r\n    Courses.getAll().then(courses => this.setState({ courses: courses}));\r\n  }\r\n\r\n  render() {\r\n\r\n    let courses = this.state.courses.map(course => (\r\n      <div key={course._id} className=\"column is-one-third\">\r\n        <CourseBox course={course} />\r\n      </div>)\r\n    );\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"columns\">\r\n          {courses}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/home/Home.js","//   router.route('/levelsResults/user/:userId/level/:levelId')\r\nimport AuthService from '../auth.service'\r\nimport ApiService from '../api.service'\r\nimport Courses from './courses'\r\nimport { LevelResults } from './model'\r\n\r\nexport default class Results {\r\n\r\n  /*\r\n    Level\r\n  */\r\n\r\n  static _cache_level = {};\r\n\r\n  static getLevelResults(levelId) {\r\n\r\n    if (this._cache_level.hasOwnProperty(levelId)) {\r\n      return Promise.resolve(this._cache_level[levelId]);\r\n    }\r\n\r\n    const auth = AuthService.getCredentials();\r\n    const userId = auth._id;\r\n\r\n    return ApiService.get(`levelsResults/user/${userId}/level/${levelId}`)\r\n      .then(result => {\r\n        const levelResults = result === null ? undefined : new LevelResults(result);\r\n        this._cache_level[levelId] = levelResults;\r\n        return levelResults;\r\n      });\r\n  }\r\n\r\n  static getRanking(seconds) {\r\n    return ApiService.get(`levelsResults/ranking/${seconds}`)\r\n      .then(result => result);\r\n  }\r\n\r\n  /*\r\n    Lesson\r\n  */\r\n\r\n  static getLessonResults(lessonId) {\r\n    return Courses.getLevels(lessonId)\r\n      .then(levels => Promise.all([levels, Promise.all(levels.map(level => this.getLevelResults(level._id)))]))\r\n      .then(([levels, results]) => [levels, results.filter(result => result !== undefined)]);\r\n  }\r\n\r\n  static calcLessonProgress(levels, results) {\r\n    return Math.floor((results.length / levels.length) * 100);\r\n  }\r\n\r\n  /*\r\n    Course\r\n  */\r\n\r\n  static getCourseResults(courseId) {\r\n    return Courses.getLessons(courseId)\r\n      .then(lessons => Promise.all(lessons.map(lesson => this.getLessonResults(lesson._id))));\r\n  }\r\n\r\n  static calcCourseProgress(lessonsResults) {\r\n    let sum = 0;\r\n    for ([levels, results] of lessonsResults) {\r\n      sum += this.calcLessonProgress(levels, results);\r\n    }\r\n    return sum / lessonsResults.length;\r\n  }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/data/results.js","import React, { Component } from 'react'\r\nimport LevelBox from './Level/LevelBox'\r\nimport SupplementBox from './Supplement/SupplementBox'\r\nimport Courses from '../../data/courses'\r\nimport Results from '../../data/results'\r\nimport { Level } from '../../data/model'\r\n\r\nexport default class LessonBox extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      levels: [],\r\n      supplements: [],\r\n      progress: 0\r\n    };\r\n\r\n    Results.getLessonResults(props.lesson._id)\r\n      .then(([levels, results]) => {\r\n        this.setState({ levels: levels });\r\n        const progress = Results.calcLessonProgress(levels, results);\r\n        this.setState({ progress: progress });\r\n      });\r\n\r\n    Courses.getSupplements(props.lesson._id)\r\n      .then(supplements => this.setState({ supplements: supplements }));\r\n  }\r\n\r\n  render() {\r\n\r\n    const isCompleted = this.state.progress === 100;\r\n\r\n    let mix = this.state.levels.concat(this.state.supplements).sort((a, b) => a.order - b.order);\r\n    let components = mix.map(element =>\r\n      (element instanceof Level)\r\n        ? <LevelBox key={element._id} level={element} />\r\n        : <SupplementBox key={element._id} supplement={element} />\r\n    );\r\n\r\n    const iconClassName = isCompleted\r\n      ? 'done fas fa-check-circle'\r\n      : 'fas fa-circle';\r\n\r\n    return (\r\n      <div className=\"lesson boxi\">\r\n        <i className={iconClassName}></i>\r\n        <h2>{this.props.lesson.name}</h2>\r\n        <div className=\"levels\">\r\n          {components}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/course-detail/Lesson/LessonBox.js","import React, { Component } from 'react'\r\nimport {Link} from 'react-router-dom'\r\n\r\nexport default class Footer extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <div className=\"footer\">\r\n            <a href=\"#\">Need help?</a>\r\n            <a href=\"#\">FAQ</a>\r\n        </div>\r\n    );\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/footer/Footer.js","import React, { Component } from 'react'\r\n\r\nexport default class SupplementBox extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      showContent: false\r\n    }\r\n  }\r\n\r\n  showContent = () => this.setState({ showContent: true  });\r\n  hideContent = () => this.setState({ showContent: false });\r\n\r\n  render() {\r\n    const contentClassName = this.state.showContent ? 'content show' : 'content';\r\n\r\n    return (\r\n      <div className=\"_level supplement\">\r\n        <h3 className=\"name\"><i className=\"fas fa-info-circle\"></i>{this.props.supplement.name}</h3>\r\n        <a className=\"ed-link\" onClick={this.showContent}>Open</a>\r\n        <div className={contentClassName}>\r\n          <div className=\"container\">\r\n            <h1>{this.props.supplement.name}</h1>\r\n            <p dangerouslySetInnerHTML={{ __html: this.props.supplement.content }}></p>\r\n            <a className=\"ed-link\" onClick={this.hideContent}>Close</a>\r\n          </div>\r\n        </div>\r\n      </div>);\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/course-detail/Lesson/Supplement/SupplementBox.js","import React, { Component } from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport Results from '../../data/results'\r\n\r\nexport default class CourseBox extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      progress: 0\r\n    };\r\n\r\n    Results.getCourseResults(this.props.course._id)\r\n      .then(lessonsResults => {\r\n        const progress = Results.calcCourseProgress(lessonsResults);\r\n        this.setState({ progress: progress });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const link = `/course/${this.props.course._id}`;\r\n    const linkText = this.state.progress === 100 ? 'Review' : 'Continue';\r\n    const badge = this.state.progress === 100\r\n      ? <i className=\"certificate fas fa-certificate\"></i>\r\n      : '';\r\n\r\n    return (\r\n      <div className=\"course boxi\">\r\n          <h1>{badge} {this.props.course.name}</h1>\r\n          <div className=\"prog\">{this.state.progress}%</div>\r\n          <p className=\"short-desc\">{this.props.course.description}</p>\r\n          <Link to={link} className=\"ed-link\">{linkText}</Link>\r\n      </div>\r\n    );\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/home/course/CourseBox.js","import React, { Component } from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport './discussion.css'\r\nimport { Question } from '../data/model'\r\nimport AnswerBox from './AnswerBox'\r\nimport QuestionBox from './QuestionBox'\r\nimport Discussions from '../data/discussions'\r\n\r\nexport default class QuestionDetail extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      question: undefined,\r\n      replyContent: '',\r\n      answers: []\r\n    };\r\n\r\n    const questionId = props.match.params.id;\r\n    \r\n    Discussions.getQuestion(questionId)\r\n      .then(question => {\r\n        this.setState({ question: question });\r\n        this.updateAnswers();\r\n      });\r\n  }\r\n\r\n  updateAnswers = () => {\r\n    Discussions.getAnswers(this.state.question._id)\r\n      .then(answers => this.setState({ answers: answers }));\r\n  };\r\n\r\n  reply = (event) => {\r\n    event.preventDefault();\r\n\r\n    Discussions.createAnswer(this.state.replyContent, this.state.question._id)\r\n      .then(result => {\r\n        if (result.done) {\r\n          this.setState({ replyContent: '' });\r\n          this.updateAnswers();\r\n        }\r\n      });\r\n  };\r\n\r\n  replyContentChanged = (event) => this.setState({ replyContent: event.target.value });\r\n\r\n  render() {\r\n\r\n    const backLink = `/discussion/${this.props.match.params.courseId}`;\r\n\r\n    const question = this.state.question !== undefined\r\n      ? <QuestionBox question={this.state.question} />\r\n      : '';\r\n\r\n    const answers = this.state.answers.map(answer => (\r\n      <AnswerBox key={answer._id} answer={answer} />\r\n    ));\r\n\r\n    return (\r\n      <div>\r\n        <Link to={backLink} className=\"ed-link\">Back to discussion</Link>\r\n        {question}\r\n        {answers}\r\n        <div className=\"new-answer\">\r\n          <textarea value={this.state.replyContent} onChange={this.replyContentChanged}></textarea>\r\n          <a className=\"ed-link\" href=\"#\" onClick={this.reply}>Reply</a>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/discussion/QuestionDetail.js","\r\nexport default class AuthService {\r\n\r\n  static getCredentials() {\r\n    return JSON.parse(window.localStorage.getItem('auth'));\r\n  }\r\n\r\n  static hasCredentials() {\r\n    return window.localStorage.getItem('auth') !== null;\r\n  }\r\n\r\n  static deleteCredentials() {\r\n    window.localStorage.removeItem('auth');\r\n  }\r\n\r\n  static getUsername() {\r\n    return this.hasCredentials()\r\n      ? this.getCredentials().username\r\n      : 'Stranger';\r\n  }\r\n\r\n  static getUserId() {\r\n    return this.hasCredentials()\r\n      ? this.getCredentials()._id\r\n      : 0;\r\n  }\r\n\r\n  static doLogin() {\r\n    this.deleteCredentials();\r\n    window.location.href = \"/auth\";\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/auth.service.js","import Config from './config'\r\nimport AuthService from './auth.service'\r\n\r\nexport default class ApiService {\r\n\r\n  static get(route) {\r\n    const auth = AuthService.getCredentials();\r\n    const token = auth.token;\r\n    \r\n    return fetch(`${Config.api}/${route}`, {\r\n      headers: {\r\n        'x-access-token': token, \r\n      },\r\n      method: 'GET'\r\n    })\r\n    .then(response => {\r\n      if (response.status === 403) {\r\n        AuthService.doLogin();\r\n      } else {\r\n        return response.json();\r\n      }\r\n    });\r\n  }\r\n\r\n  static post(route, params) {\r\n    const auth = AuthService.getCredentials();\r\n    const token = auth.token;\r\n\r\n    return fetch(`${Config.api}/${route}`, {\r\n      method: 'post',\r\n      headers: {\r\n        'Content-Type': 'application/x-www-form-urlencoded',\r\n        'x-access-token': token,\r\n      },\r\n      body: params\r\n    })\r\n    .then(res => {\r\n      if (res.status === 400) {\r\n        return res.json().then(error => ({ error: error }));\r\n      }\r\n      return res.json()\r\n    });\r\n  }\r\n\r\n  static delete(route) {\r\n    const auth = AuthService.getCredentials();\r\n    const token = auth.token;\r\n    \r\n    return fetch(`${Config.api}/${route}`, {\r\n      headers: {\r\n        'x-access-token': token, \r\n      },\r\n      method: 'DELETE'\r\n    })\r\n    .then(response => {\r\n      if (response.status === 403) {\r\n        AuthService.doLogin();\r\n      } else {\r\n        return response.json();\r\n      }\r\n    });\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api.service.js","import AuthService from '../auth.service'\r\nimport ApiService from '../api.service'\r\nimport { Course, Lesson, Level, Supplement } from './model'\r\n\r\nexport default class Courses {\r\n\r\n  static _cache_course = {};\r\n  static _cache_lessons = {};\r\n  static _cache_levels = {};\r\n  static _cache_supplements = {};\r\n\r\n  static get(courseId) {\r\n    if (this._cache_course.hasOwnProperty(courseId)) {\r\n      // console.log('Courses from cache');\r\n      return Promise.resolve(this._cache_course[courseId]);\r\n    }\r\n\r\n    return ApiService.get(`courses/${courseId}`)\r\n      .then(result => {\r\n        const course = new Course(result);\r\n        this._cache_course[courseId] = course;\r\n        return course;\r\n      });\r\n  }\r\n\r\n  static getAll() {\r\n    const auth = AuthService.getCredentials();\r\n    const userid = auth._id;\r\n\r\n    return ApiService.get(`enrollments/user/${userid}`)\r\n      .then(results => results.map(result => new Course(result.course)));\r\n  }\r\n\r\n  static getLessons(courseId) {\r\n    if (this._cache_lessons.hasOwnProperty(courseId)) {\r\n      // console.log('Lessons from cache');\r\n      return Promise.resolve(this._cache_lessons[courseId]);\r\n    }\r\n\r\n    return ApiService.get(`lessons/${courseId}`)\r\n      .then(results => results.map(result => new Lesson(result)))\r\n      .then(results => {\r\n        const lessons = results.sort((a, b) => a.order - b.order);\r\n        this._cache_lessons[courseId] = lessons;\r\n        return lessons;\r\n      });\r\n  }\r\n\r\n  static getLevels(lessonId) {\r\n    if (this._cache_levels.hasOwnProperty(lessonId)) {\r\n      // console.log('Levels from cache');\r\n      return Promise.resolve(this._cache_levels[lessonId]);\r\n    }\r\n\r\n    return ApiService.get(`levels/${lessonId}`)\r\n      .then(results => results.map(result => new Level(result)))\r\n      .then(results => {\r\n        const levels = results.sort((a, b) => a.order - b.order);\r\n        this._cache_levels[lessonId] = levels;\r\n        return levels;\r\n      });\r\n  }\r\n\r\n  static getSupplements(lessonId) {\r\n    if (this._cache_supplements.hasOwnProperty(lessonId)) {\r\n      // console.log('Levels from cache');\r\n      return Promise.resolve(this._cache_supplements[lessonId]);\r\n    }\r\n\r\n    return ApiService.get(`supplements/${lessonId}`)\r\n      .then(results => results.map(result => new Supplement(result)))\r\n      .then(results => {\r\n        const supplements = results.sort((a, b) => a.order - b.order);\r\n        this._cache_supplements[lessonId] = supplements;\r\n        return supplements;\r\n      });\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/data/courses.js","const Config = {\r\n  api: 'http://localhost:8080/api'\r\n};\r\n\r\nexport default Config\n\n\n// WEBPACK FOOTER //\n// ./src/config.js","import React, { Component } from 'react'\r\nimport {Link, withRouter} from 'react-router-dom'\r\nimport './navbar.css'\r\nimport AuthService from '../auth.service'\r\nimport Discussions from '../data/discussions'\r\n\r\nconst RoutedNavbar = withRouter(props => <Navbar {...props}/>);\r\n\r\nclass Navbar extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      username: AuthService.getUsername(),\r\n      gold: 0,\r\n      platinum: 0\r\n    };\r\n\r\n    this.update();\r\n    setInterval(this.update, 10000);\r\n  }\r\n\r\n  update = () => {\r\n    Discussions.getUserGold(AuthService.getUserId())\r\n      .then(gold => this.setState({gold: gold.length}));\r\n\r\n    Discussions.getUserPlat(AuthService.getUserId())\r\n      .then(platinum => this.setState({platinum: platinum.length}));\r\n  }\r\n\r\n  render() {\r\n    const home= this.props.location.pathname === '/home'\r\n      ? ''\r\n      : <Link className=\"ed-link\" to=\"/home\"><i className=\"fas fa-th\"></i></Link>;\r\n\r\n    return (\r\n        <div className=\"navbar\">\r\n            <a href=\"/\"className=\"ed-link brand\">edPlayground</a>\r\n            <a href=\"/discover\" className=\"ed-link discover\"><i className=\"fas fa-compass\"></i></a>\r\n            {home}\r\n            <div className=\"user\">\r\n              <p>{this.state.platinum} <span className=\"platinum\"></span></p>\r\n              <p>{this.state.gold} <span className=\"gold\"></span></p>\r\n              <p>{this.state.username}</p>\r\n              <a href=\"/auth/account\" className=\"ed-link\"><i className=\"fas fa-user-circle\"></i></a>\r\n            </div>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RoutedNavbar;\n\n\n// WEBPACK FOOTER //\n// ./src/navbar/Navbar.js","import React, { Component } from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport Discussions from '../data/discussions'\r\nimport AuthService from '../auth.service'\r\n\r\nexport default class QuestionBox extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      platinum: []\r\n    };\r\n\r\n    this.update();\r\n  }\r\n\r\n  update = () =>\r\n    Discussions.getQuestionPlat(this.props.question._id)\r\n      .then(platinum => this.setState({platinum}));\r\n\r\n  userGivenPlat = () =>\r\n    this.state.platinum.find(platinum => platinum.user === AuthService.getUserId());\r\n\r\n  givePlat = (event) => {\r\n    event.preventDefault();\r\n\r\n    Discussions.createPlat(this.props.question._id)\r\n      .then(result => this.update());\r\n  }\r\n\r\n  takePlat = (event) => {\r\n    event.preventDefault();\r\n\r\n    const platinum = this.userGivenPlat();\r\n    Discussions.deletePlat(platinum._id)\r\n      .then(result => this.update());\r\n  }\r\n\r\n  render() {\r\n\r\n    const platinumCount = this.state.platinum.length;\r\n\r\n    const platinumLink = this.userGivenPlat() !== undefined\r\n      ? <a href=\"#\" onClick={this.takePlat}>Drop coin</a>\r\n      : <a href=\"#\" onClick={this.givePlat}>Give coin</a>\r\n\r\n    return (\r\n      <div className=\"question boxi\">\r\n        <h3>{this.props.question.title}</h3>\r\n        <p>{this.props.question.content}</p>\r\n        <div className=\"info\">\r\n            <p>{this.props.question.user}</p>\r\n            <p>{this.props.question.created.toLocaleString()}</p>\r\n            <div>\r\n              <p>{platinumCount} <span className=\"platinum\"></span></p>\r\n              <p>{platinumLink}</p>\r\n            </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/discussion/QuestionBox.js","import React, { Component } from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport Discussions from '../data/discussions'\r\nimport AuthService from '../auth.service'\r\n\r\nexport default class AnswerBox extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      gold: []\r\n    };\r\n\r\n    this.update();\r\n  }\r\n\r\n  update = () =>\r\n    Discussions.getAnswerGold(this.props.answer._id)\r\n      .then(gold => this.setState({gold}));\r\n\r\n  userGivenGold = () =>\r\n    this.state.gold.find(gold => gold.user === AuthService.getUserId());\r\n\r\n  giveGold = (event) => {\r\n    event.preventDefault();\r\n\r\n    Discussions.createGold(this.props.answer._id)\r\n      .then(result => this.update());\r\n  }\r\n\r\n  takeGold = (event) => {\r\n    event.preventDefault();\r\n\r\n    const gold = this.userGivenGold();\r\n    Discussions.deleteGold(gold._id)\r\n      .then(result => this.update());\r\n  }\r\n\r\n  render() {\r\n\r\n    const goldCount = this.state.gold.length;\r\n\r\n    const goldLink = this.userGivenGold() !== undefined\r\n      ? <a href=\"#\" onClick={this.takeGold}>Drop coin</a>\r\n      : <a href=\"#\" onClick={this.giveGold}>Give coin</a>\r\n\r\n    return (\r\n      <div key={this.props.answer._id} className=\"answer boxi\">\r\n        <p>{this.props.answer.content}</p>\r\n        <div className=\"info\">\r\n          <p>{this.props.answer.user}</p><p>{this.props.answer.created.toLocaleString()}</p>\r\n          <div>\r\n            <p>{goldCount} <span className=\"gold\"></span></p>\r\n            <p>{goldLink}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/discussion/AnswerBox.js","import AuthService from '../auth.service'\r\nimport ApiService from '../api.service'\r\nimport { Question, Answer, Gold, Platinum } from './model'\r\n\r\nexport default class Discussions {\r\n\r\n  static getQuestions(courseId) {\r\n    return ApiService.get(`questions/course/${courseId}`)\r\n      .then(results => results.map(result => new Question(result)));\r\n  }\r\n\r\n  static getQuestion(id) {\r\n    return ApiService.get(`questions/${id}`)\r\n      .then(result => new Question(result));\r\n  }\r\n\r\n  static getAnswers(questionId) {\r\n    return ApiService.get(`answers/question/${questionId}`)\r\n      .then(results => results.map(result => new Answer(result)));\r\n  }\r\n\r\n  static getAnswerGold(answerId) {\r\n    return ApiService.get(`golds/answer/${answerId}`)\r\n      .then(results => results.map(result => new Gold(result)));\r\n  }\r\n\r\n  static getQuestionPlat(questionId) {\r\n    return ApiService.get(`platinums/question/${questionId}`)\r\n      .then(results => results.map(result => new Platinum(result)));\r\n  }\r\n\r\n  static getUserGold(userId) {\r\n    return ApiService.get(`golds/creator/${userId}`)\r\n      .then(results => results.map(result => new Gold(result)));\r\n  }\r\n\r\n  static getUserPlat(userId) {\r\n    return ApiService.get(`platinums/creator/${userId}`)\r\n      .then(results => results.map(result => new Platinum(result)));\r\n  }\r\n\r\n  static createQuestion(title, content, courseId) {\r\n    const params = new URLSearchParams();\r\n    params.set('title', title);\r\n    params.set('content', content);\r\n    params.set('courseId', courseId);\r\n    params.set('userId', AuthService.getCredentials()._id);\r\n\r\n    return ApiService.post('questions', params); \r\n  }\r\n\r\n  static createAnswer(content, questionId) {\r\n    const params = new URLSearchParams();\r\n    params.set('content', content);\r\n    params.set('questionId', questionId);\r\n    params.set('userId', AuthService.getCredentials()._id);\r\n\r\n    return ApiService.post('answers', params);\r\n  }\r\n\r\n  static createGold(answerId) {\r\n    const params = new URLSearchParams();\r\n    params.set('answerId', answerId);\r\n    params.set('userId', AuthService.getCredentials()._id);\r\n\r\n    return ApiService.post('golds', params);\r\n  }\r\n\r\n  static createPlat(questionId) {\r\n    const params = new URLSearchParams();\r\n    params.set('questionId', questionId);\r\n    params.set('userId', AuthService.getCredentials()._id);\r\n\r\n    return ApiService.post('platinums', params);\r\n  }\r\n\r\n  static deleteGold(goldId) {\r\n    return ApiService.delete(`golds/${goldId}`);\r\n  }\r\n\r\n  static deletePlat(platinumId) {\r\n    return ApiService.delete(`platinums/${platinumId}`);\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/data/discussions.js","export class Course {\r\n  constructor(obj) {\r\n    this._id = obj && obj._id || 0;\r\n    this.name = obj && obj.name || '';\r\n    this.description = obj && obj.description || '';\r\n  }\r\n}\r\n\r\nexport class Lesson {\r\n  constructor(obj) {\r\n    this._id = obj && obj._id || 0;\r\n    this.name = obj && obj.name || '';\r\n    this.order = obj && obj.order || 0;\r\n  }\r\n}\r\n\r\nexport class Level {\r\n  constructor(obj) {\r\n    this._id = obj && obj._id || 0;\r\n    this.name = obj && obj.name || '';\r\n    this.order = obj && obj.order || 0;\r\n  }\r\n}\r\n\r\nexport class Supplement {\r\n  constructor(obj) {\r\n    this._id = obj && obj._id || 0;\r\n    this.name = obj && obj.name || '';\r\n    this.order = obj && obj.order || 0;\r\n    this.content = obj && obj.content || '';\r\n  }\r\n}\r\n\r\nexport class LevelResults {\r\n  constructor(obj) {\r\n    this._id = obj && obj._id || 0;\r\n    this.seconds = obj && obj.seconds || -1;\r\n    this.order = (obj && obj.level) && obj.level.order || 0;\r\n    this.levelId = (obj && obj.level) && obj.level._id || 0;\r\n  }\r\n}\r\n\r\nexport class Question {\r\n  constructor(obj) {\r\n    this._id = obj && obj._id || 0;\r\n    this.title = obj && obj.title || '';\r\n    this.content = obj && obj.content || '';\r\n    this.created = obj && new Date(obj.created) || new Date(0);\r\n    this.user = (obj && obj.user) && obj.user.username || '';\r\n  }\r\n}\r\n\r\nexport class User {\r\n  constructor(obj) {\r\n    this.username = obj && obj.username;\r\n  }\r\n}\r\n\r\nexport class Answer {\r\n  constructor(obj) {\r\n    this._id = obj && obj._id || 0;\r\n    this.content = obj && obj.content || '';\r\n    this.created = obj && new Date(obj.created);\r\n    this.user = (obj && obj.user) && obj.user.username || '';\r\n  }\r\n}\r\n\r\nexport class Gold {\r\n  constructor(obj) {\r\n    this._id = obj && obj._id || 0;\r\n    this.answerId = obj && obj.answer;\r\n    this.user = obj && obj.user;\r\n    this.creator = obj && obj.creator;\r\n    this.created = obj && new Date(obj.created);\r\n  }\r\n}\r\n\r\nexport class Platinum {\r\n  constructor(obj) {\r\n    this._id = obj && obj._id || 0;\r\n    this.questionId = obj && obj.question;\r\n    this.user = obj && obj.user;\r\n    this.creator = obj && obj.creator;\r\n    this.created = obj && new Date(obj.created);\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/data/model.js","import React, { Component } from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport './course-detail.css'\r\nimport Courses from '../data/courses'\r\nimport Results from '../data/results'\r\nimport { Course, Lesson, Level } from '../data/model'\r\nimport LessonBox from './Lesson/LessonBox'\r\n\r\nexport default class Home extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      course: new Course(),\r\n      lessons: [],\r\n      progress: 0\r\n    };\r\n\r\n    const courseId = props.match.params.id;\r\n    Courses.get(courseId).then(course => this.setState({ course: course }));\r\n    Courses.getLessons(courseId).then(lessons => this.setState({ lessons: lessons }));\r\n\r\n    Results.getCourseResults(courseId)\r\n      .then(lessonsResults => {\r\n        const progress = Results.calcCourseProgress(lessonsResults);\r\n        this.setState({ progress: progress });\r\n      });\r\n\r\n  }\r\n\r\n  render() {\r\n\r\n    let lessons = this.state.lessons.map(lesson => (\r\n      <LessonBox key={lesson._id} lesson={lesson}/>)\r\n    );\r\n\r\n    const discussionLink = `/discussion/${this.state.course._id}`;\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"overview boxi\">\r\n          <h1>{this.state.course.name}</h1>\r\n          <p>{this.state.course.description}</p>\r\n          <progress className=\"progress is-success\" value={this.state.progress} max=\"100\">\r\n            {this.state.progress}%\r\n          </progress>\r\n          <div className=\"discussion\">\r\n            <div>\r\n              <p>Discussion</p>\r\n              <p>\r\n                Collaborate with your classmates and get coins\r\n                &nbsp;<span className=\"platinum\"></span>\r\n                &nbsp;<span className=\"gold\"></span>\r\n              </p>\r\n            </div>\r\n            <Link to={discussionLink} className=\"ed-link\"><i className=\"fas fa-comments\"></i></Link>\r\n          </div>\r\n        </div>\r\n        <div className=\"lessons\">\r\n          {lessons}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/course-detail/CourseDetail.js","import React, { Component } from 'react'\r\nimport {Link, Redirect} from 'react-router-dom'\r\nimport Discussions from '../data/discussions';\r\n\r\nexport default class NewQuestion extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      title: '',\r\n      content: '',\r\n      done: false\r\n    };\r\n  }\r\n\r\n  contentChanged = (event) => this.setState({ content: event.target.value });\r\n  titleChanged = (event) => this.setState({ title: event.target.value });\r\n  \r\n  submit = (event) => {\r\n    event.preventDefault();\r\n\r\n    Discussions.createQuestion(this.state.title, this.state.content, this.props.match.params.id)\r\n      .then(result => {\r\n        if (result.done) {\r\n          this.setState({ done: true });\r\n        }\r\n      });\r\n  };\r\n\r\n  render() {\r\n\r\n    const backLink = `/discussion/${this.props.match.params.id}`;\r\n\r\n    if (this.state.done) {\r\n      return <Redirect to={backLink} />;\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <Link to={backLink} className=\"ed-link\">Back to discussion</Link>\r\n        <div className=\"new-question\">\r\n          <h3>Make a new question</h3>\r\n          <input type=\"text\" value={this.state.title} onChange={this.titleChanged} placeholder=\"Title\"/>\r\n          <textarea value={this.state.content} onChange={this.contentChanged}></textarea>\r\n          <a className=\"ed-link\" href=\"#\" onClick={this.submit}>Submit</a>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/discussion/NewQuestion.js","import '../node_modules/bulma/css/bulma.css'\r\nimport './index.css'\r\n\r\nimport React from 'react'\r\nimport {render} from 'react-dom'\r\n\r\nimport App from './App'\r\n\r\nrender(<App/>, document.querySelector('#app'))\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import React, {Component} from 'react'\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Link,\r\n  Redirect,\r\n  Switch\r\n} from 'react-router-dom'\r\n\r\nimport AuthService from './auth.service'\r\nimport Navbar from './navbar/Navbar'\r\nimport Footer from './footer/Footer'\r\nimport Home from './home/Home'\r\nimport CourseDetail from './course-detail/CourseDetail'\r\nimport Discussion from './discussion/Discussion';\r\nimport QuestionDetail from './discussion/QuestionDetail';\r\nimport NewQuestion from './discussion/NewQuestion';\r\n\r\nclass App extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    if (!AuthService.hasCredentials()) {\r\n      AuthService.doLogin();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    // <Router>\r\n    return (\r\n      <Router basename=\"/learn\">\r\n        <div className=\"page\">\r\n          <Navbar/>\r\n          <div className=\"section main\">\r\n            <div className=\"container\">\r\n              <div className=\"contents\">\r\n\r\n                <Switch>\r\n                  <Route path=\"/home\" component={Home}/>\r\n                  <Route path=\"/course/:id\" component={CourseDetail}/>\r\n                  <Route path=\"/discussion/:id\" component={Discussion}/>\r\n                  <Route path=\"/question/:courseId/:id\" component={QuestionDetail}/>\r\n                  <Route path=\"/newquestion/:id\" component={NewQuestion} />\r\n                  <Redirect to=\"/home\" />\r\n                </Switch>\r\n\r\n              </div>\r\n              <Footer/>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/App.js","import React, { Component } from 'react'\r\nimport Results from '../../../data/results'\r\n\r\nexport default class LevelBox extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      seconds: -1,\r\n      ranking: -1,\r\n    };\r\n\r\n    Results.getLevelResults(props.level._id)\r\n      .then(result => {\r\n        if (result === undefined) {\r\n          return Promise.reject();\r\n        }\r\n        this.setState({ seconds: result.seconds });\r\n        return Results.getRanking(result.seconds);\r\n      })\r\n      .then(\r\n        ranking => this.setState({ ranking: ranking }),\r\n        () => {});\r\n  }\r\n\r\n  renderSeconds(seconds) {\r\n    let h = 0, m = 0, s = 0;\r\n    s = seconds % 60;\r\n    m = Math.floor((seconds / 60) % 60);\r\n    h = Math.floor((seconds / 60) / 60);\r\n    return `${h.toString().padStart(2, '0')}:${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`\r\n  }\r\n\r\n  render() {\r\n    const hasResults = this.state.seconds != -1;\r\n\r\n    const ranking = this.state.ranking !== -1 ? '#' + this.state.ranking : '-';\r\n\r\n    if (!hasResults)\r\n      return (\r\n        <div className=\"_level\">\r\n          <h3 className=\"name\"><i className=\"fas fa-circle\"></i>{this.props.level.name}</h3>\r\n          <a className=\"ed-link\">Start</a>\r\n        </div>);\r\n\r\n    return (\r\n      <div className=\"_level\">\r\n        <h3 className=\"name\"><i className=\"done fas fa-check-circle\"></i>{this.props.level.name}</h3>\r\n        <h3 className=\"mark\"><i className=\"fas fa-clock\"></i>{this.renderSeconds(this.state.seconds)}</h3>\r\n        <h3 className=\"arrow\"><i className=\"fas fa-arrow-right\"></i></h3>\r\n        <h3 className=\"mark\"><i className=\"fas fa-trophy\"></i>{ranking}</h3>\r\n        <a className=\"ed-link\">Repeat</a>\r\n      </div>);\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/course-detail/Lesson/Level/LevelBox.js","import React, { Component } from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport './discussion.css'\r\nimport Discussions from '../data/discussions'\r\n\r\nexport default class Discussion extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      questions: [],\r\n    };\r\n\r\n    const courseId = props.match.params.id;\r\n    Discussions.getQuestions(courseId)\r\n      .then(questions => this.setState({ questions: questions }));\r\n  }\r\n\r\n  render() {\r\n    const backLink = `/course/${this.props.match.params.id}`;\r\n    const newLink = `/newquestion/${this.props.match.params.id}`;\r\n\r\n    const questions = this.state.questions.map(question => {\r\n      const link = `/question/${this.props.match.params.id}/${question._id}`;\r\n      return (\r\n        <div key={question._id} className=\"question-link boxi\">\r\n          <h3>{question.title}</h3>\r\n          <p>{question.user}</p>\r\n          <p>{question.created.toLocaleString()}</p>\r\n          <Link to={link} className=\"ed-link\">Open</Link>\r\n        </div>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div>\r\n        <Link to={backLink} className=\"ed-link separated\">Back to course</Link>\r\n        <Link to={newLink} className=\"ed-link\">New Question</Link>\r\n        <div className=\"question-link boxi\">\r\n          <h3><i className=\"fas fa-thumbtack\"></i> Welcome!</h3>\r\n          <p>edPlayground</p>\r\n          <a href=\"#\" className=\"ed-link\">Open</a>\r\n        </div>\r\n        {questions}\r\n      </div>\r\n    );\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/discussion/Discussion.js"],"sourceRoot":""}